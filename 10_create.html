<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">

<link rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous">
</head>
<body>
	<div class="container">

	<h1>XEMHanco</h1>
	<label for="text1">パスフレーズ:</label>
	<input type="text" id="pass" class="form-control">
	<button type="button" id="create" class="btn btn-primary">作成</button>
	<div><img id="hanco"></div>

	</div>
<script
    src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous">
</script>
<script
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous">
</script>

<script src="symbol-qr-library-0.9.0.js"></script>
<script src="symbol-sdk-0.17.4.js"></script>

<script>$(function() {

const qr = require("/node_modules/symbol-qr-library");
const nem = require("/node_modules/symbol-sdk");

$("#create").click(
	function(){
		const alice = nem.Account.generateNewAccount(nem.NetworkType.TEST_NET);
		exportAccount = new qr.AccountQR(alice,$("#pass").val(), nem.NetworkType.TEST_NET);

		const base64 = exportAccount.toBase64()
		.subscribe(x=>{
			$('#hanco').attr('src',x);
		});
	}
);
})</script>

</body>
</html>
